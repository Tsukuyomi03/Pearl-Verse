<!-- Modern Flat Design Top Navigation - Pearl Verse -->
<!-- Font Awesome Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-Avb2QiuDEEvB4bZJYdft2mNjVShBftLdPG8FJ0V7irTLQ8Uo0qcPxh4Plq7G5tGm0rU+1SPhVotteLpBERwTkw==" crossorigin="anonymous">

<!-- Topnav Styles -->
<link rel="stylesheet" href="/static/css/modular_topnav.css">

<header class="topnav" id="topnav">
    <div class="topnav-container">
        <!-- Decorative Pearl Icon -->
        <div class="pearl-brand-section">
            <div class="pearl-icon-brand" aria-label="Pearl Verse">
                <i class="fas fa-gem pearl-gem" aria-hidden="true"></i>
            </div>
        </div>
        
        <!-- Search Section -->
        <div class="search-section">
            <div class="search-container">
                <div class="search-box">
                    <i class="fas fa-search search-icon" aria-hidden="true"></i>
                    <input 
                        type="search" 
                        class="search-input" 
                        placeholder="Search pearls, items, players..."
                        id="globalSearch"
                        autocomplete="off"
                        spellcheck="false"
                        aria-label="Search"
                    >
                    <button class="search-clear" id="searchClear" style="display: none;" aria-label="Clear search">
                        <i class="fas fa-times" aria-hidden="true"></i>
                    </button>
                </div>
                <!-- Search Results -->
                <div class="search-results" id="searchResults" role="listbox" aria-label="Search results"></div>
            </div>
        </div>
        
        <!-- Profile Section -->
        <div class="profile-section">
            <div class="profile-dropdown" data-dropdown="profile">
                <button class="profile-btn" aria-label="Profile menu" aria-expanded="false" aria-haspopup="true">
                    <div class="profile-avatar">
                        <img src="/static/images/default-avatar.png" alt="Profile" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                        <div class="profile-avatar-fallback" style="display: none;">
                            <i class="fas fa-user"></i>
                        </div>
                    </div>
                </button>
                
                <!-- Dropdown Menu -->
                <div class="dropdown-menu" role="menu" aria-label="Profile menu">
                    <!-- User Info -->
                    <div class="user-info">
                        <div class="user-name" id="userName">Loading...</div>
                        <div class="user-email" id="userEmail">Loading...</div>
                    </div>
                    
                    <!-- Menu Items -->
                    <div class="menu-items">
                        <a href="/settings" class="menu-item" role="menuitem">
                            <i class="fas fa-cog" aria-hidden="true"></i>
                            <span>Settings</span>
                        </a>
                        <a href="/logout" class="menu-item logout-item" role="menuitem">
                            <i class="fas fa-sign-out-alt" aria-hidden="true"></i>
                            <span>Logout</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Topnav JavaScript -->
<script src="/static/js/modular_topnav.js"></script>
